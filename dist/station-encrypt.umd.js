!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self)["station-encrypt"]=n()}(this,(function(){"use strict";function e(e,n,t,o){return new(t||(t=Promise))((function(i,d){function c(e){try{s(o.next(e))}catch(e){d(e)}}function l(e){try{s(o.throw(e))}catch(e){d(e)}}function s(e){var n;e.done?i(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,l)}s((o=o.apply(e,n||[])).next())}))}return class{constructor({publicUrl:e="",homePage:n="index.html",disabledSave:t=!0,disabledConsole:o=!0}){this.publicUrl=e,this.homePage=n,t&&this.disabledSave(),o&&this.disabledConsole(),this.packingHtml()}packingHtml(){return e(this,void 0,void 0,(function*(){const e=this.publicUrl+this.homePage;window.onload=()=>{fetch(e,{cache:"no-cache"}).then((e=>e.text())).then((e=>this.createFrame(e)))}}))}createFrame(e){var n,t,o,i,d,c;document.body.style.cssText="margin:0;padding:0;";const l=document.createElement("iframe");l.style.cssText="width: 100%; height: calc(100vh - 4px); overflow: hidden; border:none;";const s=e.replace(/<head>/g,`<head><base href="${window.location.origin}${this.publicUrl}" />`);document.body.appendChild(l),null===(t=null===(n=l.contentWindow)||void 0===n?void 0:n.document)||void 0===t||t.open(),null===(i=null===(o=l.contentWindow)||void 0===o?void 0:o.document)||void 0===i||i.write(s),null===(c=null===(d=l.contentWindow)||void 0===d?void 0:d.document)||void 0===c||c.close()}disabledSave(){document.onkeydown=function(){var e=window.event||arguments[0];return console.log(e),123!=e.keyCode&&((!e.ctrlKey||!e.shiftKey||73!=e.keyCode)&&((!e.ctrlKey||85!=e.keyCode)&&((!e.ctrlKey||83!=e.keyCode)&&((!e.metaKey||83!=e.keyCode)&&void 0))))}}disabledConsole(){setInterval((()=>e()),1e3);const e=()=>{const e=n=>{(function(){}).constructor("debugger")(),e(++n)};try{e(0)}catch(e){}};e()}}}));
//# sourceMappingURL=station-encrypt.umd.js.map
